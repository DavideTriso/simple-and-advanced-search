!function(e,r){var n="advancedSearch";"function"==typeof define&&define.amd?define([],r(n)):e[n]=r(n)}(this,function(e){function r(e){return e.trim().split(" ")}function n(e,r){e=e.toLowerCase(),r=r.toLowerCase();for(var n=[],t=0;t<=e.length;t++){for(var a=t,f=0;f<=r.length;f++)if(0==t)n[f]=f;else if(f>0){var i=n[f-1];e.charAt(t-1)!=r.charAt(f-1)&&(i=Math.min(Math.min(i,a),n[f])+1),n[f-1]=a,a=i}t>0&&(n[r.length]=a)}return n[r.length]}function t(e,r){var t=e,a=r;e.length<r.length&&(t=r,a=e);var f=t.length;return 0==f?1:(f-n(t,a))/parseFloat(f)}function a(e,n,a,f){a=a||.4,f=f||.4;for(var i=e.length,o=r(n),h=o.length,v=[],c=0;i>c;c+=1){for(var l=r(e[c]),u=l.length,s=0,g=0,d=0,m=0;u>m;m+=1)for(var p=0;h>p;p+=1){var w=t(l[m],o[p]);w>a&&(s+=1,g+=w)}d=s>f?g/s:!1,d&&v.push({index:c,averageDistance:d,wordsMatchesCount:s,wordMatchesPercentage:s/h})}return v}return a});